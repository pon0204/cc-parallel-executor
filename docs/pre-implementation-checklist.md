# 実装前チェックリスト

## 環境準備

### 1. 必要なソフトウェア
- [ ] Node.js 18以上がインストールされている
- [ ] Git がインストールされている
- [ ] expect/unbuffer がインストールされている（macOS: `brew install expect`）
- [ ] Claude CLIがインストールされ、パスが通っている
- [ ] VSCode または適切なエディタがセットアップされている

### 2. プロジェクトセットアップ
- [ ] リポジトリをクローン/プル
- [ ] `package-new.json` を `package.json` に置き換え
- [ ] `npm install` を実行
- [ ] `.env.example` を `.env` にコピーし、適切に設定
- [ ] `npm run db:generate` でPrismaクライアントを生成
- [ ] `npm run db:push` でデータベースを作成

### 3. 開発環境確認
- [ ] `npm run dev` でフロントエンドが起動することを確認
- [ ] TypeScriptのコンパイルエラーがないことを確認
- [ ] ESLintエラーがないことを確認（`npm run lint`）

## 実装順序

### Phase 1: 基盤構築
1. **サーバー側のTypeScript移行**
   - server/index.ts のエントリーポイント作成
   - WebSocketとHTTPサーバーの統合
   - 基本的なルーティング設定

2. **データベース接続**
   - Prismaクライアントの初期化
   - 基本的なCRUD操作の実装
   - シードデータの作成

3. **ログシステム**
   - Winstonログの設定
   - ログレベルの管理
   - ログファイルのローテーション

### Phase 2: コア機能
1. **プロジェクト管理API**
   - プロジェクトCRUD
   - プロジェクト選択API
   - プロジェクト設定管理

2. **タスク管理システム**
   - YAMLパーサーの実装
   - タスク定義の検証（zod）
   - タスク依存関係の解決

3. **CC管理基盤**
   - CCプロセス管理クラス
   - Worktree管理クラス
   - ultrathinkプロトコルハンドラー

### Phase 3: UI実装
1. **プロジェクト選択画面**
   - プロジェクト一覧コンポーネント
   - 新規プロジェクト作成ダイアログ
   - プロジェクト検索・フィルター

2. **プロジェクトダッシュボード**
   - 親CCターミナルコンポーネント
   - タブ管理システム
   - タスクステータス表示

3. **並列実行画面**
   - 複数ターミナルの管理
   - 画面分割レイアウト
   - リアルタイム更新

## コーディング規約の確認

### TypeScript
- [ ] strict モードが有効
- [ ] any 型を使用しない
- [ ] 適切な型定義とインターフェース

### React
- [ ] 関数コンポーネントのみ使用
- [ ] カスタムフックの活用
- [ ] React.memo の適切な使用

### API設計
- [ ] RESTful な設計
- [ ] 適切なHTTPステータスコード
- [ ] エラーレスポンスの統一

### Git
- [ ] コミットメッセージ規約の遵守
- [ ] 機能ブランチでの開発
- [ ] プルリクエストベースのワークフロー

## セキュリティチェック

- [ ] ユーザー入力のバリデーション
- [ ] パスインジェクション対策
- [ ] プロセス実行時の引数エスケープ
- [ ] 環境変数の適切な管理

## パフォーマンス考慮

- [ ] データベースクエリの最適化
- [ ] WebSocketメッセージの効率化
- [ ] フロントエンドバンドルサイズの確認
- [ ] 不要な再レンダリングの防止

## テスト準備

- [ ] 単体テストの環境設定
- [ ] 統合テストの計画
- [ ] モックデータの準備
- [ ] テストカバレッジ目標の設定（70%以上）

## ドキュメント

- [ ] APIドキュメントのテンプレート準備
- [ ] コンポーネントのStorybook設定（オプション）
- [ ] 運用マニュアルの構成検討

## 実装開始前の最終確認

- [ ] 要件定義書を再度確認
- [ ] アーキテクチャ設計書を理解
- [ ] ultrathinkプロトコルの仕様を把握
- [ ] Git worktreeの動作を理解
- [ ] 実装タスクの優先順位を確認

すべてのチェックが完了したら、実装を開始できます。